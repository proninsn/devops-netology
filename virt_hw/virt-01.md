## Задача 1

Ознакомьтесь с [инструкцией ](https://github.com/netology-code/devops-materials/blob/master/cloudwork.MD) по экономии облачных ресурсов.


1. Создайте через web-интерфейс Yandex Cloud - VPC и виртуальную машину из инструкции конфигурации "эконом-ВМ" с публичным ip-адресом. В пункте "Выбор образа/загрузочного диска" выберите вкладку "Cloud Marketplace" , щелкните "Посмотреть больше", найдите образ "Yandex Cloud Toolbox".
2. Убедитесь, что вы можете подключиться к консоли ВМ через ssh, используя публичный ip-адрес. Убедитесь, что на ВМ установлен Docker с помощью команды ```docker --version```(команду выполните от имени root пользователя) !
3. Узнайте в инструкции Яндекс, какие еще инструменты предустановлены в данном образе.
4. Оставьте ВМ работать, пока она не выключится самостоятельно! Опция "прерываемая" выключит ее не позже чем через 24 часа. 
5. Для наглядности подождите еще 1 сутки.
6. Перейдите по [ссылке ](https://console.cloud.yandex.ru/billing?section=accounts). Выберите свой платежный аккаунт. Перейдите на вкладку детализация (фильтр "По продуктам") и оцените график потребления финансов.
7. Удалите ВМ или пользуйтесь ею при выполнении последующих домашних заданий курса обучения.

---


## Задача 2

Выберите один из вариантов платформы в зависимости от задачи. Здесь нет однозначно верного ответа так как все зависит от конкретных условий: финансирование, компетенции специалистов, удобство использования, надежность, требования ИБ и законодательства, фазы луны.

Тип платформы:

- физические сервера;
- паравиртуализация;
- виртуализация уровня ОС;

Задачи:

- высоконагруженная база данных MySql, критичная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Объясните критерии выбора платформы в каждом случае.

## Решение 2

1. Высоконагруженная база данных MySQL, критичная к отказу.
Если ключевым критерием является производительность (например, у нас очень устаревший, неоптимизированный, но приносящий деньги проект), то очевидно, стоит выбрать физические сервера для максимальной производительности.
Если же допускается небольшая просадка производительности по сравнению с физическими серверами, то разумнее выбрать платформу паравиртуализации.
Такой подход позволит более гибко управлять ресурсами виртуальной машины, облегчит её миграцию в другой дата-центр и обеспечит удобное резервное копирование данных. Дело в том, что в современном мире виртуализации и облачных технологий, навыки работы с физическими серверами становятся редкостью, и найти компетентных специалистов трудно.
2. Для различных web-приложений.
Современные web-приложения прекрасно работают в виртуализации уровня ОС. Этот подход позволяет «упаковать» приложение и все его зависимости в контейнер. Таким образом, можно гибко управлять вычислительными ресурсами, горизонтально масштабировать нагрузку и сократить время, необходимое для запуска новых версий приложений.
3. Для Windows-систем, используемых бухгалтерским отделом.
С точки зрения удобства лучше всего подойдет паравиртуализация. Однако в некоторых случаях (персональные данные, финансы, государственная тайна, медицинские данные и т. д.) законодательство требует обеспечения защиты гипервизора сертифицированными программно-аппаратными средствами. Это может потребовать значительных денежных затрат. В случае, когда требуется экономия, стоит выбрать физический сервер.
4. Для систем, выполняющих высокопроизводительные расчеты на GPU.
Здесь практически наверняка стоит выбрать физический сервер. Хотя паравиртуализация и может обеспечить непосредственный доступ к GPU, в больших объемах даже небольшая потеря производительности из-за накладных расходов виртуализации выльется в копеечку! В небольших объёмах микрокоманд лучше будет выбрать паравиртуализацию, так как это удобнее.


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

## Решение 3

1. 100 виртуальных машин на базе Linux и Windows.
Для данного сценария подходит платный гипервизор VMware vSphere или Hyper-V. Оба обеспечивают широкие возможности виртуализации как для Linux, так и для Windows, гарантируя высокую производительность, отказоустойчивость и удобство, хотя имеют высокую стоимость.
2. Решение для виртуализации небольшой инфраструктуры.
Если отказоустойчивость не является ключевым требованием, то KVM – популярное бесплатное open source-решение, которое обеспечивает высокую производительность и совместимость с различными ОС. Но можно использовать и бесплатные версии VMware vSphere/Hyper-V.
3. Совместимое и производительное решение для виртуализации Windows-инфраструктуры.
Для виртуализации Windows-инфраструктуры платными решениями могут стать Hyper-V от Microsoft или VMware vSphere.
4. Рабочее окружение для тестирования Linux-дистрибутивов.
Подойдет гипервизор VirtualBox/Vmware workstation (бесплатный для домашнего пользования). VirtualBox является бесплатным и легким в использовании. Для некоторых сценариев подойдет даже Docker, Podman, K3s, Minikube.


## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?

## Решение 4

- Сложность управления и обеспечения безопасности в целом, документация.
- Несовместимость различных платформ для миграции ресурсов между ними. Как следствие неоптимальное использование ресурсов.
- Проблемы в поиске компетентных сотрудников с большим стеком умений и навыков.

Всегда стоит избегать «зоопарка технологий» и сосредоточиться на одном, оптимальном решении. Если же гетерогенная среда уже сложилась, необходимо составить план миграции на единую платформу или, по крайней мере, сократить ассортимент. Это позволит снизить издержки.
